<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalle del Ticket</title>
    <link rel="stylesheet" href="../css/detalle-ticket.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"> <!-- Para iconos -->
</head>
<body>
    <header class="header">
        <div class="header-left">
            <i class="fas fa-eye"></i>
            <h2>Detalles - Radicado N¬∞ <span id="radicado"></span></h2>
        </div>
        <div>
            <span id="estado" class="badge"></span>
        </div>
    </header>

    <main class="main-content">
        <div class="form-grid">
            <div class="form-group">
                <label>√Årea</label>
                <input type="text" id="area" readonly />
            </div>
            <div class="form-group">
                <label>Categor√≠a</label>
                <input type="text" id="categoria" readonly />
            </div>
            <div class="form-group">
                <label>Fecha de Radicaci√≥n</label>
                <input type="text" id="fecha" readonly />
            </div>
            <div class="form-group">
                <label>Radicado Por</label>
                <input type="text" id="radicado_por" readonly />
            </div>
            <div class="form-group">
                <label>Correo Electr√≥nico</label>
                <input type="text" id="email" readonly />
            </div>
            <div class="form-group" id="estado-group" style="display: none;">
                <label>Estado del Ticket</label>
                <select id="filtro-estado">
                </select>
            </div>
            <div class="form-group full-width">
                <label>Asunto</label>
                <input type="text" id="asunto" readonly />
            </div>
            <div class="form-group full-width">
                <label>Descripci√≥n del Caso</label>
                <textarea id="descripcion" rows="4" readonly></textarea>
            </div>
            <button type="button" id="btnRedireccionar" class="btn-interno" style="display: none;">
                <i class="fas fa-share-square"></i> Redireccionar
            </button>
        </div>

        <div class="historico">
            <h3><i class="fas fa-list-alt"></i> Campos del ticket</h3>
            <div id="historico-content">
                <!-- Aqu√≠ se cargar√° el historial -->
            </div>
        </div>

        <div class="adjuntos">
            <h3>Archivos Adjuntos</h3>
            <div id="archivos">Sin adjuntos para mostrar</div>
        </div>
        <div class="respuestas-ticket">
            <h3><i class="fas fa-comments"></i> Gesti√≥n del ticket</h3>
            <div id="chat-mensajes">
                <button id="toggleInterno" class="btn-toggle-interno">
                    <i class="fas fa-lock"></i>
                </button>
                <!-- Aqu√≠ se cargar√°n las respuestas -->
            </div>
        
            <form id="form-respuesta" enctype="multipart/form-data" class="form-grid chat-form">
                <div class="form-group full-width">
                    <textarea id="mensaje" name="mensaje" rows="3" required placeholder="Escribe tu mensaje..."></textarea>
                </div>
                <div class="form-group">
                    <label for="archivo">Adjuntar archivo</label>
                    <input type="file" id="archivo" name="archivo" />
                </div>
                <div class="form-group botones-chat">
                    <label>&nbsp;</label>
                    <button type="submit" class="btn-enviar">
                        <i class="fas fa-paper-plane"></i> Enviar
                    </button>
                    <button type="button" id="btnComentarioInterno" class="btn-interno" style="display: none;">
                        <i class="fas fa-comment-dots"></i> Comentario interno
                    </button>
                </div>

            </form>
        </div>
        <!-- üîΩ NUEVA SECCI√ìN DE BOTONES -->
        <div class="acciones-ticket hidden" id="acciones-propietario">
            <button id="btn-finalizar" class="btn-accion finalizar" style="display: none">
                <i class="fas fa-check-circle"></i> Finalizar
            </button>
            <button id="btn-pendiente" class="btn-accion pendiente" style="display: none">
                <i class="fas fa-times-circle"></i> Rechazar
            </button>
        </div>  
                <!-- tu modal -->
        <div id="modalRedireccion" class="modal-overlay" style="display:none;">
            <div class="modal-content">
                <span id="btnCerrarModal" class="close-button">&times;</span>
                <h3>Redireccionar Ticket</h3>

                <div class="form-group">
                <label for="combo-area">√Årea</label>
                <select id="combo-area">
                    <option value="">Seleccione un √°rea</option>
                </select>
                </div>

                <div class="form-group">
                <label for="combo-categoria">Categor√≠a</label>
                <select id="combo-categoria" disabled>
                    <option value="">Seleccione una categor√≠a</option>
                </select>
                </div>

                <div class="form-group">
                <label for="combo-responsable">Responsable</label>
                <select id="combo-responsable" disabled>
                    <option value="">Seleccione un responsable</option>
                </select>
                </div>

                <button id="btnAplicarRedireccion" class="btn-interno">Aplicar</button>
            </div>
        </div>

        <div id="modal-satisfaccion" class="modal-satisfaccion">
            <div class="modal-contenido-satisfaccion">
                <span class="cerrar-satisfaccion">&times;</span>
                <h2>Encuesta de Satisfacci√≥n</h2>
                <form id="formEncuestaSatisfaccion">
                <!-- Campo oculto con el ID del ticket -->
                <input type="hidden" name="ticket_id" id="ticket_id" value="1234">
                
                <!-- Pregunta 1 -->
                <div class="pregunta">
                    <label>¬øSe encuentra satisfecho con la atenci√≥n ofrecida por el especialista de la mesa de servicio?</label>
                    <label><input type="radio" name="q1" value="si" required> S√≠</label>
                    <label><input type="radio" name="q1" value="no"> No</label>
                </div>

                <!-- Pregunta 2 -->
                <div class="pregunta">
                    <label>¬øC√≥mo califica el tiempo desde que report√≥ el caso hasta que fue resuelto?</label>
                    <label><input type="radio" name="q2" value="Excelente" required> Excelente</label>
                    <label><input type="radio" name="q2" value="Bueno"> Bueno</label>
                    <label><input type="radio" name="q2" value="Regular"> Regular</label>
                    <label><input type="radio" name="q2" value="Malo"> Malo</label>
                </div>

                <!-- Pregunta 3 -->
                <div class="pregunta">
                    <label>¬øEl especialista demostr√≥ destreza y habilidad en la atenci√≥n y/o soluci√≥n ofrecida?</label>
                    <div class="estrellas">
                    <input type="radio" name="q3" value="1" id="star1"><label for="star1">‚òÖ</label>
                    <input type="radio" name="q3" value="2" id="star2"><label for="star2">‚òÖ</label>
                    <input type="radio" name="q3" value="3" id="star3"><label for="star3">‚òÖ</label>
                    <input type="radio" name="q3" value="4" id="star4"><label for="star4">‚òÖ</label>
                    <input type="radio" name="q3" value="5" id="star5" required><label for="star5">‚òÖ</label>
                    </div>
                </div>

                <button type="submit">Enviar</button>
                </form>
            </div>
        </div>
    </main>     

    <script src="../js/detalle-ticket.js"></script>
</body>
</html>
